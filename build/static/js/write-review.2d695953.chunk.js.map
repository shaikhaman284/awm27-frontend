{"version":3,"file":"static/js/write-review.2d695953.chunk.js","mappings":"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","sources":["components/common/SEO.jsx","pages/WriteReview.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst SEO = ({\r\n    title = 'Amravati Wears Market',\r\n    description = 'Amravati Wears Market - Your local clothing marketplace. Shop from trusted Amravati stores with home delivery, COD available.',\r\n    keywords = 'amravati, clothing, marketplace, local stores, fashion, online shopping, COD, cash on delivery',\r\n    image = 'https://awm27.shop/logo192.png',\r\n    url = 'https://awm27.shop',\r\n    type = 'website',\r\n    noindex = false,\r\n    structuredData = null,\r\n}) => {\r\n    const siteTitle = 'Amravati Wears Market';\r\n    const fullTitle = title === siteTitle ? title : `${title} | ${siteTitle}`;\r\n\r\n    return (\r\n        <Helmet>\r\n            {/* Basic Meta Tags */}\r\n            <title>{fullTitle}</title>\r\n            <meta name=\"description\" content={description} />\r\n            <meta name=\"keywords\" content={keywords} />\r\n\r\n            {/* Robots */}\r\n            {noindex && <meta name=\"robots\" content=\"noindex, nofollow\" />}\r\n\r\n            {/* Canonical URL */}\r\n            <link rel=\"canonical\" href={url} />\r\n\r\n            {/* Open Graph / Facebook */}\r\n            <meta property=\"og:type\" content={type} />\r\n            <meta property=\"og:url\" content={url} />\r\n            <meta property=\"og:title\" content={fullTitle} />\r\n            <meta property=\"og:description\" content={description} />\r\n            <meta property=\"og:image\" content={image} />\r\n            <meta property=\"og:site_name\" content={siteTitle} />\r\n            <meta property=\"og:locale\" content=\"en_IN\" />\r\n\r\n            {/* Twitter Card */}\r\n            <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n            <meta name=\"twitter:url\" content={url} />\r\n            <meta name=\"twitter:title\" content={fullTitle} />\r\n            <meta name=\"twitter:description\" content={description} />\r\n            <meta name=\"twitter:image\" content={image} />\r\n\r\n            {/* Additional Meta Tags */}\r\n            <meta name=\"author\" content=\"Amravati Wears Market\" />\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n            <meta httpEquiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n\r\n            {/* Structured Data (JSON-LD) */}\r\n            {structuredData && (\r\n                <script type=\"application/ld+json\">\r\n                    {JSON.stringify(structuredData)}\r\n                </script>\r\n            )}\r\n        </Helmet>\r\n    );\r\n};\r\n\r\nexport default SEO;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { FiStar, FiChevronRight } from 'react-icons/fi';\r\nimport apiService from '../services/api';\r\nimport toast from 'react-hot-toast';\r\nimport SEO from '../components/common/SEO';\r\n\r\n\r\nconst WriteReview = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { product, orderId } = location.state || {};\r\n\r\n  const [rating, setRating] = useState(0);\r\n  const [hoveredRating, setHoveredRating] = useState(0);\r\n  const [reviewText, setReviewText] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  if (!product || !orderId) {\r\n    toast.error('Missing order or product information');\r\n    navigate('/orders');\r\n    return null;\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (rating === 0) {\r\n      toast.error('Please select a rating');\r\n      return;\r\n    }\r\n\r\n    const productId = product.id || product.product_id || product.product;\r\n\r\n    if (!productId) {\r\n      toast.error('Product ID is missing. Please try again.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const reviewData = {\r\n        product: productId,\r\n        order: orderId,\r\n        rating,\r\n        review_text: reviewText.trim() || ''\r\n      };\r\n\r\n      await apiService.createReview(reviewData);\r\n\r\n      toast.success('Review submitted successfully!');\r\n      navigate('/orders');\r\n    } catch (error) {\r\n      if (error.response?.data) {\r\n        const errorData = error.response.data;\r\n        if (typeof errorData === 'object' && errorData.error) {\r\n          toast.error(errorData.error);\r\n        } else if (typeof errorData === 'object') {\r\n          const errorMessages = Object.entries(errorData)\r\n            .map(([key, value]) => `${key}: ${Array.isArray(value) ? value.join(', ') : value}`)\r\n            .join(', ');\r\n          toast.error(errorMessages || 'Failed to submit review');\r\n        } else {\r\n          toast.error('Failed to submit review');\r\n        }\r\n      } else {\r\n        toast.error('Failed to submit review. Please try again.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white\">\r\n      <SEO\r\n        title={`Write Review - ${product.name} | Amravati Wears Market`}\r\n        description={`Share your experience with ${product.name} from ${product.shop_name}. Help other shoppers make informed decisions.`}\r\n        url=\"https://awm27.shop/write-review\"\r\n        noindex={true}\r\n      />\r\n      {/* Breadcrumb */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <div className=\"container mx-auto px-4 py-4\">\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <button onClick={() => navigate('/')} className=\"text-gray-500 hover:text-black transition\">\r\n              Home\r\n            </button>\r\n            <FiChevronRight className=\"w-4 h-4 text-gray-400\" />\r\n            <button onClick={() => navigate('/orders')} className=\"text-gray-500 hover:text-black transition\">\r\n              My Orders\r\n            </button>\r\n            <FiChevronRight className=\"w-4 h-4 text-gray-400\" />\r\n            <span className=\"text-black font-medium\">Write Review</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container mx-auto px-4 py-8 md:py-12\">\r\n        <div className=\"max-w-3xl mx-auto\">\r\n          <h1 className=\"text-3xl md:text-4xl font-bold mb-8\">WRITE A REVIEW</h1>\r\n\r\n          <div className=\"border-2 border-gray-200 rounded-3xl p-6 md:p-8\">\r\n            {/* Product Info */}\r\n            <div className=\"flex gap-4 mb-8 pb-8 border-b-2 border-gray-200\">\r\n              <div className=\"w-24 h-24 bg-gray-100 rounded-2xl flex-shrink-0 flex items-center justify-center\">\r\n                <span className=\"text-4xl\">ðŸ‘•</span>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-xl mb-1\">{product.name}</h3>\r\n                <p className=\"text-sm text-gray-600\">{product.shop_name}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              {/* Star Rating */}\r\n              <div className=\"mb-8\">\r\n                <label className=\"block font-bold text-lg mb-4\">\r\n                  Rate this product <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <div className=\"flex gap-3\">\r\n                  {[1, 2, 3, 4, 5].map((star) => (\r\n                    <button\r\n                      key={star}\r\n                      type=\"button\"\r\n                      onClick={() => setRating(star)}\r\n                      onMouseEnter={() => setHoveredRating(star)}\r\n                      onMouseLeave={() => setHoveredRating(0)}\r\n                      className=\"focus:outline-none transition-all hover:scale-110\"\r\n                    >\r\n                      <FiStar\r\n                        className={`w-12 h-12 transition-colors ${star <= (hoveredRating || rating)\r\n                          ? 'text-yellow-400 fill-yellow-400'\r\n                          : 'text-gray-300'\r\n                          }`}\r\n                      />\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {rating > 0 && (\r\n                  <p className=\"text-sm text-gray-600 mt-3 font-medium\">\r\n                    You rated: {rating}/5 {rating === 1 ? 'star' : 'stars'}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Review Text */}\r\n              <div className=\"mb-8\">\r\n                <label className=\"block font-bold text-lg mb-3\">\r\n                  Share Your Experience (Optional)\r\n                </label>\r\n                <textarea\r\n                  value={reviewText}\r\n                  onChange={(e) => setReviewText(e.target.value)}\r\n                  maxLength={500}\r\n                  rows={6}\r\n                  placeholder=\"Tell others what you think about this product. What did you like or dislike?\"\r\n                  className=\"w-full px-5 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-black focus:border-black resize-none transition\"\r\n                />\r\n                <div className=\"flex justify-between items-center mt-2\">\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    Help others make informed decisions\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500 font-medium\">\r\n                    {reviewText.length}/500 characters\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Info Box */}\r\n              <div className=\"mb-8 p-4 bg-gray-50 rounded-2xl border-2 border-gray-200\">\r\n                <p className=\"text-sm text-gray-700\">\r\n                  <span className=\"font-bold\">Note:</span> Your review will be visible to all shoppers and will help others make informed purchase decisions.\r\n                </p>\r\n              </div>\r\n\r\n              {/* Submit Buttons */}\r\n              <div className=\"flex gap-4\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => navigate('/orders')}\r\n                  className=\"flex-1 py-4 border-2 border-gray-300 text-gray-700 font-bold rounded-full hover:bg-gray-50 transition\"\r\n                  disabled={loading}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading || rating === 0}\r\n                  className=\"flex-1 py-4 bg-black text-white font-bold rounded-full hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed transition\"\r\n                >\r\n                  {loading ? (\r\n                    <span className=\"flex items-center justify-center gap-2\">\r\n                      <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent\"></div>\r\n                      Submitting...\r\n                    </span>\r\n                  ) : (\r\n                    'Submit Review'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WriteReview;"],"names":["_ref","title","description","keywords","image","url","type","noindex","structuredData","siteTitle","fullTitle","concat","_jsxs","Helmet","children","_jsx","name","content","rel","href","property","httpEquiv","JSON","stringify","WriteReview","navigate","useNavigate","location","useLocation","product","orderId","state","rating","setRating","useState","hoveredRating","setHoveredRating","reviewText","setReviewText","loading","setLoading","toast","error","className","SEO","shop_name","onClick","FiChevronRight","onSubmit","async","e","preventDefault","productId","id","product_id","reviewData","order","review_text","trim","apiService","createReview","success","_error$response","response","data","errorData","errorMessages","Object","entries","map","key","value","Array","isArray","join","star","onMouseEnter","onMouseLeave","FiStar","onChange","target","maxLength","rows","placeholder","length","disabled"],"sourceRoot":""}