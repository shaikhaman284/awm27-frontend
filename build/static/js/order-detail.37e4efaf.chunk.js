"use strict";(self.webpackChunkcustomer_website=self.webpackChunkcustomer_website||[]).push([[221],{206:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(9367),r=a(579);const n=e=>{let{title:t="Amravati Wears Market",description:a="Amravati Wears Market - Your local clothing marketplace. Shop from trusted Amravati stores with home delivery, COD available.",keywords:n="amravati, clothing, marketplace, local stores, fashion, online shopping, COD, cash on delivery",image:l="https://awm27.shop/logo192.png",url:o="https://awm27.shop",type:i="website",noindex:c=!1,structuredData:d=null}=e;const m="Amravati Wears Market",x=t===m?t:"".concat(t," | ").concat(m);return(0,r.jsxs)(s.mg,{children:[(0,r.jsx)("title",{children:x}),(0,r.jsx)("meta",{name:"description",content:a}),(0,r.jsx)("meta",{name:"keywords",content:n}),c&&(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,r.jsx)("link",{rel:"canonical",href:o}),(0,r.jsx)("meta",{property:"og:type",content:i}),(0,r.jsx)("meta",{property:"og:url",content:o}),(0,r.jsx)("meta",{property:"og:title",content:x}),(0,r.jsx)("meta",{property:"og:description",content:a}),(0,r.jsx)("meta",{property:"og:image",content:l}),(0,r.jsx)("meta",{property:"og:site_name",content:m}),(0,r.jsx)("meta",{property:"og:locale",content:"en_IN"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:url",content:o}),(0,r.jsx)("meta",{name:"twitter:title",content:x}),(0,r.jsx)("meta",{name:"twitter:description",content:a}),(0,r.jsx)("meta",{name:"twitter:image",content:l}),(0,r.jsx)("meta",{name:"author",content:"Amravati Wears Market"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),d&&(0,r.jsx)("script",{type:"application/ld+json",children:JSON.stringify(d)})]})}},1922:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(5043),r=a(1357),n=a(5772),l=a(6305),o=(a(6543),a(2339));const i=async e=>{try{const{default:t}=await a.e(389).then(a.bind(a,1389)),s=new t,r=s.internal.pageSize.getWidth(),n=s.internal.pageSize.getHeight(),l=15,o=r-15;let i=20;const c=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s.setFontSize(r.fontSize||10),s.setFont(r.font||"helvetica",r.fontStyle||"normal"),"center"===r.align?s.text(e,t,a,{align:"center"}):"right"===r.align?s.text(e,t,a,{align:"right"}):s.text(e,t,a)},d=function(){i+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:20)>n-20&&(s.addPage(),i=20)};c("AMRAVATI WEARS MARKET",r/2,i,{fontSize:20,fontStyle:"bold",align:"center"}),i+=8,c("Your Local Clothing Marketplace",r/2,i,{fontSize:10,align:"center"}),i+=10,s.setLineWidth(.5),s.line(l,i,o,i),i+=10,c("INVOICE",r/2,i,{fontSize:16,fontStyle:"bold",align:"center"}),i+=10,c("Order #: ".concat(e.order_number),l,i,{fontStyle:"bold"}),i+=6;const m=new Date(e.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"});c("Date: ".concat(m),l,i),i+=6;const x=e.order_status.charAt(0).toUpperCase()+e.order_status.slice(1);c("Status: ".concat(x),l,i),i+=10,d(40),s.setLineWidth(.3),s.line(l,i,o,i),i+=8,c("CUSTOMER DETAILS",l,i,{fontSize:12,fontStyle:"bold"}),i+=8,c("Name: ".concat(e.customer_name),l,i),i+=6,c("Phone: ".concat(e.customer_phone),l,i),i+=6;const h="Address: ".concat(e.delivery_address,", ").concat(e.city," - ").concat(e.pincode);s.splitTextToSize(h,r-30).forEach(e=>{c(e,l,i),i+=6}),e.landmark&&(c("Landmark: ".concat(e.landmark),l,i),i+=6),i+=4,d(50),s.line(l,i,o,i),i+=8,c("ORDER ITEMS",l,i,{fontSize:12,fontStyle:"bold"}),i+=8,s.setFillColor(240,240,240),s.rect(l,i-5,o-l,8,"F"),c("Item",l+2,i,{fontStyle:"bold"}),c("Qty",o-115,i,{fontStyle:"bold"}),c("Price",o-65,i,{fontStyle:"bold"}),c("Subtotal",o,i,{fontStyle:"bold",align:"right"}),i+=8,e.items.forEach(e=>{d(20);const t=e.product_name.length>30?e.product_name.substring(0,30)+"...":e.product_name;if(c(t,l+2,i),c(e.quantity.toString(),o-115,i),c("Rs. ".concat(e.display_price),o-65,i),c("Rs. ".concat(e.item_subtotal),o,i,{align:"right"}),i+=6,e.size||e.color){const t=[];e.size&&t.push("Size: ".concat(e.size)),e.color&&t.push("Color: ".concat(e.color)),c("(".concat(t.join(", "),")"),l+2,i,{fontSize:8}),i+=6}i+=2,s.setLineWidth(.3),s.line(l,i,o,i),i+=2}),i+=4,d(60),s.setLineWidth(.3),s.line(l,i,o,i),i+=8,c("PAYMENT SUMMARY",l,i,{fontSize:12,fontStyle:"bold"}),i+=8,c("Items Total:",o-120,i),c("Rs. ".concat(e.subtotal),o,i,{align:"right"}),i+=6,c("COD Fee:",o-120,i),c(e.cod_fee>0?"Rs. ".concat(e.cod_fee):"FREE",o,i,{align:"right"}),i+=8,s.setLineWidth(.5),s.line(o-125,i-2,o,i-2),i+=5,c("TOTAL:",o-120,i,{fontSize:12,fontStyle:"bold"}),c("Rs. ".concat(e.total_amount),o,i,{fontSize:12,fontStyle:"bold",align:"right"}),i+=10,s.setFillColor(230,240,255),s.rect(l,i-5,o-l,12,"F"),c("Payment Method: Cash on Delivery",l+2,i),i+=6;const u="paid"===e.payment_status?"Payment completed":"Pay \u20b9".concat(e.total_amount," when you receive the order");c(u,l+2,i,{fontSize:9}),i+=10,d(30),s.setLineWidth(.3),s.line(l,i,o,i),i+=8,c("SHOP DETAILS",l,i,{fontSize:12,fontStyle:"bold"}),i+=8,c("Shop Name: ".concat(e.shop_name),l,i),i+=6,e.shop_contact&&(c("Contact: ".concat(e.shop_contact),l,i),i+=6),i+=10;const p=Math.max(i,n-30);c("Thank you for shopping with us!",r/2,p,{fontSize:10,fontStyle:"italic",align:"center"});const b="Invoice_".concat(e.order_number,".pdf");s.save(b)}catch(t){throw console.error("Error generating invoice:",t),t}};var c=a(206),d=a(579);const m=()=>{const{orderNumber:e}=(0,r.g)(),t=(0,r.Zp)(),[a,m]=(0,s.useState)(null),[x,h]=(0,s.useState)(!0),[u,p]=(0,s.useState)(null),[b,y]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{j()},[e]);const j=async()=>{try{h(!0),p(null);const t=await l.A.getOrderDetail(e);m(t.data)}catch(u){var t,a;const s=(null===(t=u.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to load order details";p(s),o.Ay.error(s)}finally{h(!1)}};if(x)return(0,d.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-white",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200 border-t-black"})});if(u)return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,d.jsxs)("div",{className:"text-center max-w-md px-4",children:[(0,d.jsx)("div",{className:"w-24 h-24 bg-red-100 rounded-full mx-auto mb-6 flex items-center justify-center",children:(0,d.jsx)(n.y3G,{className:"w-12 h-12 text-red-500"})}),(0,d.jsx)("h2",{className:"text-3xl font-bold mb-3",children:"Unable to Load Order"}),(0,d.jsx)("p",{className:"text-gray-600 mb-8",children:u}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("button",{onClick:j,className:"block w-full px-6 py-3 bg-black text-white font-semibold rounded-full hover:bg-gray-800 transition",children:"Try Again"}),(0,d.jsx)(r.N_,{to:"/orders",className:"block w-full px-6 py-3 border-2 border-gray-300 font-semibold rounded-full hover:bg-gray-50 transition",children:"Back to Orders"})]})]})});if(!a)return null;const N=[{key:"placed",label:"Order Placed",time:a.created_at},{key:"confirmed",label:"Confirmed",time:a.confirmed_at},{key:"shipped",label:"Shipped",time:a.shipped_at},{key:"delivered",label:"Delivered",time:a.delivered_at}],v=N.findIndex(e=>e.key===a.order_status),w=["placed","confirmed"].includes(a.order_status);return(0,d.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,d.jsx)(c.A,{title:"Order #".concat(a.order_number," - My Orders | Amravati Wears Market"),description:"View your order details for order #".concat(a.order_number,". Track delivery status and manage your order."),url:"https://awm27.shop/orders/".concat(a.order_number),noindex:!0}),(0,d.jsx)("div",{className:"border-b border-gray-200",children:(0,d.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)("button",{onClick:()=>t("/"),className:"text-gray-500 hover:text-black transition",children:"Home"}),(0,d.jsx)(n.fOo,{className:"w-4 h-4 text-gray-400"}),(0,d.jsx)("button",{onClick:()=>t("/orders"),className:"text-gray-500 hover:text-black transition",children:"My Orders"}),(0,d.jsx)(n.fOo,{className:"w-4 h-4 text-gray-400"}),(0,d.jsxs)("span",{className:"text-black font-medium",children:["#",a.order_number]})]})})}),(0,d.jsx)("div",{className:"container mx-auto px-4 py-8 md:py-12",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-3xl p-6 md:p-8 mb-6",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-6 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold mb-3",children:["Order #",a.order_number]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Placed on"," ",new Date(a.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,d.jsx)("div",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full",children:(0,d.jsx)("span",{className:"text-sm font-semibold",children:"paid"===a.payment_status?"Paid":"Cash on Delivery"})})]}),(0,d.jsxs)("div",{className:"text-left md:text-right",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),(0,d.jsxs)("p",{className:"text-4xl font-bold text-black mb-4",children:["\u20b9",a.total_amount]}),"delivered"===a.order_status&&(0,d.jsxs)("button",{onClick:async()=>{try{f(!0),await i(a),o.Ay.success("Invoice downloaded successfully!")}catch(u){console.error("Error generating invoice:",u),o.Ay.error("Failed to generate invoice. Please try again.")}finally{f(!1)}},disabled:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-black text-white font-semibold rounded-full hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:[(0,d.jsx)(n.a4x,{className:"w-5 h-5"}),g?"Generating...":"Download Invoice"]})]})]}),w&&(0,d.jsxs)("div",{className:"pt-6 border-t-2 border-gray-200",children:[(0,d.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to cancel this order?"))try{y(!0),await l.A.cancelOrder(e),o.Ay.success("Order cancelled successfully"),await j()}catch(u){var t,a;const s=(null===(t=u.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to cancel order";o.Ay.error(s)}finally{y(!1)}},disabled:b,className:"flex items-center justify-center gap-2 w-full md:w-auto px-8 py-3 bg-red-600 text-white font-semibold rounded-full hover:bg-red-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:[(0,d.jsx)(n.yGN,{className:"w-5 h-5"}),b?"Cancelling...":"Cancel Order"]}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"You can cancel this order before it is shipped"})]})]}),"cancelled"!==a.order_status&&(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-3xl p-6 md:p-8 mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-8",children:"Order Status"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("div",{className:"absolute left-5 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,d.jsx)("div",{className:"space-y-10",children:N.map((e,t)=>{const a=t<=v,s=t===v;return(0,d.jsxs)("div",{className:"relative flex items-start gap-6",children:[(0,d.jsx)("div",{className:"relative z-10 flex items-center justify-center w-10 h-10 rounded-full border-4 border-white transition ".concat(a?"bg-green-500":"bg-gray-200"),children:a?(0,d.jsx)(n.YrT,{className:"w-5 h-5 text-white"}):(0,d.jsx)("span",{className:"w-3 h-3 bg-gray-400 rounded-full"})}),(0,d.jsxs)("div",{className:"flex-1 pt-1",children:[(0,d.jsx)("p",{className:"font-bold text-lg mb-1 ".concat(s?"text-black":a?"text-green-600":"text-gray-400"),children:e.label}),e.time&&(0,d.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.time).toLocaleString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}),!e.time&&!a&&(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Pending"})]})]},e.key)})})]})]}),"cancelled"===a.order_status&&(0,d.jsxs)("div",{className:"border-2 border-red-200 bg-red-50 rounded-3xl p-6 md:p-8 mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:(0,d.jsx)(n.yGN,{className:"w-6 h-6 text-white"})}),(0,d.jsx)("h3",{className:"font-bold text-xl text-red-800",children:"Order Cancelled"})]}),a.cancelled_at&&(0,d.jsxs)("p",{className:"text-sm text-red-600 mb-4",children:["Cancelled on"," ",new Date(a.cancelled_at).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),a.cancellation_reason&&(0,d.jsxs)("div",{className:"p-4 bg-red-100 rounded-2xl border border-red-200",children:[(0,d.jsx)("p",{className:"text-sm font-bold text-red-800 mb-1",children:"Cancellation Reason:"}),(0,d.jsx)("p",{className:"text-sm text-red-700",children:a.cancellation_reason})]})]}),(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-3xl p-6 md:p-8 mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Order Items"}),(0,d.jsx)("div",{className:"space-y-4",children:a.items.map(e=>(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-2xl overflow-hidden hover:border-gray-300 transition",children:[(0,d.jsxs)("div",{className:"flex gap-4 p-5",children:[(0,d.jsxs)("div",{className:"w-24 h-24 bg-gray-100 rounded-xl flex-shrink-0 overflow-hidden",children:[e.product_image?(0,d.jsx)("img",{src:e.product_image,alt:e.product_name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentElement.querySelector(".fallback-icon").style.display="flex"}}):null,(0,d.jsx)("div",{className:"fallback-icon w-full h-full flex items-center justify-center",style:{display:e.product_image?"none":"flex"},children:(0,d.jsx)(n.est,{className:"w-10 h-10 text-gray-400"})})]}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"font-bold text-lg text-gray-900 mb-2",children:e.product_name}),(e.size||e.color)&&(0,d.jsxs)("div",{className:"flex gap-2 mb-2",children:[e.size&&(0,d.jsxs)("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs font-medium",children:["Size: ",e.size]}),e.color&&(0,d.jsxs)("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs font-medium capitalize",children:["Color: ",e.color]})]}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["Quantity: ",e.quantity]}),(0,d.jsxs)("p",{className:"font-bold text-xl text-black",children:["\u20b9",e.display_price," \xd7 ",e.quantity," = \u20b9",e.item_subtotal]})]})]}),"delivered"===a.order_status&&(0,d.jsx)("div",{className:"px-5 pb-5",children:(0,d.jsx)("button",{onClick:()=>(e=>{const s=e.product||e.product_id;s?t("/write-review",{state:{product:{id:s,name:e.product_name,shop_name:a.shop_name},orderId:a.id}}):o.Ay.error("Unable to load product information. Please try again.")})(e),className:"w-full py-3 bg-black text-white font-semibold rounded-full hover:bg-gray-800 transition",children:"Write Review"})})]},e.id))})]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-3xl p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-5",children:"Delivery Address"}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(n.HzC,{className:"w-5 h-5 text-gray-700"})}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("p",{className:"font-bold text-base text-black mb-1",children:a.customer_name}),(0,d.jsx)("p",{className:"text-gray-600 mb-2",children:a.customer_phone}),(0,d.jsxs)("p",{className:"text-gray-700 leading-relaxed",children:[a.delivery_address,(0,d.jsx)("br",{}),a.city," - ",a.pincode]}),a.landmark&&(0,d.jsxs)("p",{className:"text-gray-600 mt-2",children:["Landmark: ",a.landmark]})]})]})]}),(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-3xl p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-bold mb-5",children:"Shop Details"}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(n.est,{className:"w-5 h-5 text-gray-700"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-bold text-base mb-1",children:a.shop_name}),a.shop_contact&&(0,d.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.shop_contact}),a.shop_contact&&(0,d.jsxs)("a",{href:"tel:".concat(a.shop_contact),className:"inline-flex items-center gap-2 px-4 py-2 bg-black text-white font-semibold rounded-full hover:bg-gray-800 transition text-sm",children:[(0,d.jsx)(n.QFc,{className:"w-4 h-4"}),"Call Shop"]})]})]})]})]}),(0,d.jsxs)("div",{className:"border-2 border-gray-200 rounded-3xl p-6 md:p-8",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Payment Summary"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,d.jsx)("span",{children:"Items Total"}),(0,d.jsxs)("span",{className:"font-semibold text-black",children:["\u20b9",a.subtotal]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,d.jsx)("span",{children:"Delivery Fee"}),(0,d.jsx)("span",{className:"font-semibold text-black",children:a.cod_fee>0?"\u20b9".concat(a.cod_fee):(0,d.jsx)("span",{className:"text-green-600",children:"FREE"})})]}),(0,d.jsx)("hr",{className:"border-gray-300"}),(0,d.jsxs)("div",{className:"flex justify-between font-bold text-2xl",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{children:["\u20b9",a.total_amount]})]}),(0,d.jsxs)("div",{className:"p-4 bg-gray-50 rounded-2xl border-2 border-gray-200",children:[(0,d.jsx)("p",{className:"font-bold mb-1",children:"Payment Method: Cash on Delivery"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"paid"===a.payment_status?"Payment completed":"Pay \u20b9".concat(a.total_amount," when you receive the order")})]})]})]})]})})]})}}}]);
//# sourceMappingURL=order-detail.37e4efaf.chunk.js.map